# pingctl

Ping Identity Command Line Interface (CLI) tool used for PingOne, PingDevops and future command line tools and aliases.

## Examples (Draft)

### Generate License

```shell
pingctl license --product pingfederate --version 11.3
```

### Export Configuration

```shell
# Export a PingOne environment that's configured in the cli settings
pingctl export pingone \
    --output terraform
```

```shell
# Export a specific PingOne environment
pingctl export pingone \
    --environment-id 83a95646-4184-42e6-ab57-1e1598f38ca4 \
    --output terraform
```

```shell
# Export the PingDirectory we have configured in the profile
pingctl export pingdirectory \
    --output terraform
```

```shell
# Export the DaVinci we have configured in the profile
pingctl export davinci \
    --output terraform
```

### Lint Configuration

```shell
# Lint a DaVinci JSON export from file
pingctl lint davinci \
    --json-file ./path/to/flow.json
```

```shell
# Lint a DaVinci JSON export
cat ./path/to/flow.json | pingctl lint davinci
```

```shell
# Lint an PingOne Authorize JSON export
pingctl lint pingone-authorize \
    --json ./path/to/policies.json
```

### Platform Config

```shell
# Create a PingOne notification policy
pingctl config pingone-notification-policy create \
    --json-file ./path/to/pingone/notification-policy.json
```

```shell
# Delete a PingOne Protect predictor
pingctl config pingone-protect-predictor delete 56f5259c-6f79-4124-9ca1-818a4db6518b
```

```shell
# View a PingOne MFA Device Policy
pingctl config pingone-mfa-device-policy view 994415b6-17c6-4454-b501-f1427f2c00d0
```

```shell
# List all PingOne applications
pingctl config pingone-application list
```

```shell
# Create a PingFederate authentication policy
pingctl config pingfederate-authentication-policy create \
    --json-file ./path/to/pingfed/authentication-policy.json
```

## Command Map (Draft)

Usage: `pingctl [global options] <command> <subcommand> [parameters]`

### Global Options

- `--cli-config` Specify a non-default config file (default is `$HOME/.pingidentity/pingctl-config`)
- `--verbose` Enables verbose debug output
- `--help` Shows help documentation for the command/subcommand
- `--profile` Sets the configuration profile to use, from the available profiles in the config file (default will be the profile named `default`)

### Core Commands

- `profile` Provides an ability to control profile configuration data
  - `create` Create a new configuration profile
  - `delete` Delete an existing configuration profile
  - `view` View the profile information
  - `list` List configuration profiles
  - `select` Select the active configuration profile
- `version` Displays version information about the cli tool

### General Function commands

- `k8s` Provides options for bootstrapping Kubernetes configuration
- `config` Provides options to configure Ping instances by a subcommand (See "Service Sub-Commands" below)
- `export` Provides tools to export Ping configuration from running instances/tenants
- `license` Provides tools to obtain Ping licenses
  - Options:
    - `--product` The product to generate license for.  Possible values [ `pingfederate` | `pingdirectory` | `pingaccess` ]
    - `--version` The version of the product to generate license for.  Example: `11.3`
- `lint` Provide tools to lint Ping native exports

### Service Sub-Commands (Autogenerated)

The following are examples of structure, but would be generated from OA3 spec

#### Platform

- `pingone-notification-policy` An ability to be able to manage notification policies in the platform
  - `create` Create a new notification policy
  - `delete` Delete an existing notification policy
  - `view` View a notification policy
  - `list` List notification policies
- `pingone-gateway` An ability to be able to manage a gateway in the platform
  - `create` Create a new gateway
  - `delete` Delete an existing gateway
  - `view` View a gateway
  - `list` List gateways
- ...
